2025-07-09 18:06:02,771 - WARNING -  * Debugger is active!
2025-07-09 18:06:02,773 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 18:06:30,614 - INFO -  * Detected change in 'C:\\Users\\yevgen.kozhuhov\\PycharmProjects\\PythonProject\\messenger\\backend\\app.py', reloading
2025-07-09 18:06:31,898 - WARNING -  * Debugger is active!
2025-07-09 18:06:31,900 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 18:06:59,067 - INFO -  * Restarting with stat
2025-07-09 18:07:00,228 - WARNING -  * Debugger is active!
2025-07-09 18:07:00,230 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 18:14:09,541 - INFO -  * Detected change in 'C:\\Users\\yevgen.kozhuhov\\PycharmProjects\\PythonProject\\messenger\\backend\\app.py', reloading
2025-07-09 18:14:09,838 - INFO -  * Restarting with stat
2025-07-09 18:14:11,831 - WARNING -  * Debugger is active!
2025-07-09 18:14:11,832 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 18:14:25,335 - INFO -  * Detected change in 'C:\\Users\\yevgen.kozhuhov\\PycharmProjects\\PythonProject\\messenger\\backend\\app.py', reloading
2025-07-09 18:14:25,543 - INFO -  * Restarting with stat
2025-07-09 18:14:26,859 - WARNING -  * Debugger is active!
2025-07-09 18:14:26,861 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 18:14:42,268 - INFO -  * Detected change in 'C:\\Users\\yevgen.kozhuhov\\PycharmProjects\\PythonProject\\messenger\\backend\\app.py', reloading
2025-07-09 18:14:42,448 - INFO -  * Restarting with stat
2025-07-09 18:14:43,956 - WARNING -  * Debugger is active!
2025-07-09 18:14:43,958 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 18:15:51,585 - INFO -  * Restarting with stat
2025-07-09 18:15:52,739 - WARNING -  * Debugger is active!
2025-07-09 18:15:52,741 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 18:17:15,357 - INFO -  * Restarting with stat
2025-07-09 18:17:16,546 - WARNING -  * Debugger is active!
2025-07-09 18:17:16,548 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 18:17:27,857 - INFO -  * Restarting with stat
2025-07-09 18:17:28,948 - WARNING -  * Debugger is active!
2025-07-09 18:17:28,949 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 18:30:55,348 - INFO -  * Detected change in 'C:\\Users\\yevgen.kozhuhov\\PycharmProjects\\PythonProject\\messenger\\backend\\chat_logic.py', reloading
2025-07-09 18:30:55,522 - INFO -  * Restarting with stat
2025-07-09 18:30:56,912 - WARNING -  * Debugger is active!
2025-07-09 18:30:56,915 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 18:31:05,805 - INFO -  * Detected change in 'C:\\Users\\yevgen.kozhuhov\\PycharmProjects\\PythonProject\\messenger\\backend\\database.py', reloading
2025-07-09 18:31:06,185 - INFO -  * Restarting with stat
2025-07-09 18:31:07,529 - WARNING -  * Debugger is active!
2025-07-09 18:31:07,532 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 18:33:05,887 - INFO -  * Detected change in 'C:\\Users\\yevgen.kozhuhov\\PycharmProjects\\PythonProject\\messenger\\backend\\chat_logic.py', reloading
2025-07-09 18:33:06,040 - INFO -  * Restarting with stat
2025-07-09 18:33:07,538 - WARNING -  * Debugger is active!
2025-07-09 18:33:07,540 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 18:33:16,624 - INFO -  * Detected change in 'C:\\Users\\yevgen.kozhuhov\\PycharmProjects\\PythonProject\\messenger\\backend\\database.py', reloading
2025-07-09 18:33:16,918 - INFO -  * Restarting with stat
2025-07-09 18:33:18,527 - WARNING -  * Debugger is active!
2025-07-09 18:33:18,530 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 18:33:18,819 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 45, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-09 18:33:18,869 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 45, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-09 18:33:18,882 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 45, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-09 18:36:54,719 - INFO -  * Restarting with stat
2025-07-09 18:36:55,818 - WARNING -  * Debugger is active!
2025-07-09 18:36:55,820 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 18:36:57,818 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 43, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-09 18:36:57,837 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 43, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-09 18:36:58,810 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 43, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-09 18:37:41,542 - INFO -  * Detected change in 'C:\\Users\\yevgen.kozhuhov\\PycharmProjects\\PythonProject\\messenger\\backend\\app.py', reloading
2025-07-09 18:37:42,106 - INFO -  * Restarting with stat
2025-07-09 18:37:43,530 - WARNING -  * Debugger is active!
2025-07-09 18:37:43,532 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 18:37:43,815 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 43, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-09 18:37:43,835 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 43, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-09 18:37:43,844 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 43, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-09 18:41:43,308 - INFO -  * Restarting with stat
2025-07-09 18:41:44,477 - WARNING -  * Debugger is active!
2025-07-09 18:41:44,479 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 18:41:44,814 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 43, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-09 18:41:46,805 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 43, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-09 18:41:46,815 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 43, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-09 18:45:51,326 - INFO -  * Restarting with stat
2025-07-09 18:45:52,478 - WARNING -  * Debugger is active!
2025-07-09 18:45:52,481 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 18:45:54,809 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 43, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-09 18:45:55,804 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 43, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-09 18:45:55,817 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 43, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-09 18:53:41,799 - INFO -  * Restarting with stat
2025-07-09 18:53:43,004 - WARNING -  * Debugger is active!
2025-07-09 18:53:43,006 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 18:54:32,810 - DEBUG - Search users query: '#9554' from user 1
2025-07-09 18:54:32,811 - DEBUG - Existing contacts for user 1: []
2025-07-09 18:54:32,820 - DEBUG - Found 1 users matching query
2025-07-09 18:54:32,824 - DEBUG - Search users query: '#9554' from user 1
2025-07-09 18:54:32,825 - DEBUG - Existing contacts for user 1: []
2025-07-09 18:54:32,827 - DEBUG - Found 1 users matching query
2025-07-09 18:56:41,884 - DEBUG - Search users query: 'se' from user 2
2025-07-09 18:56:41,886 - DEBUG - Existing contacts for user 2: [1]
2025-07-09 18:56:41,888 - DEBUG - Found 0 users matching query
2025-07-09 18:56:41,892 - DEBUG - Search users query: 'se' from user 2
2025-07-09 18:56:41,894 - DEBUG - Existing contacts for user 2: [1]
2025-07-09 18:56:41,895 - DEBUG - Found 0 users matching query
2025-07-09 18:56:42,545 - DEBUG - Search users query: 'sek' from user 2
2025-07-09 18:56:42,546 - DEBUG - Existing contacts for user 2: [1]
2025-07-09 18:56:42,548 - DEBUG - Found 0 users matching query
2025-07-09 18:56:42,552 - DEBUG - Search users query: 'sek' from user 2
2025-07-09 18:56:42,553 - DEBUG - Existing contacts for user 2: [1]
2025-07-09 18:56:42,554 - DEBUG - Found 0 users matching query
2025-07-09 18:56:43,117 - DEBUG - Search users query: 'sekyn' from user 2
2025-07-09 18:56:43,118 - DEBUG - Existing contacts for user 2: [1]
2025-07-09 18:56:43,120 - DEBUG - Found 0 users matching query
2025-07-09 18:56:43,124 - DEBUG - Search users query: 'sekyn' from user 2
2025-07-09 18:56:43,125 - DEBUG - Existing contacts for user 2: [1]
2025-07-09 18:56:43,126 - DEBUG - Found 0 users matching query
2025-07-09 18:56:43,712 - DEBUG - Search users query: 'sekynda' from user 2
2025-07-09 18:56:43,713 - DEBUG - Existing contacts for user 2: [1]
2025-07-09 18:56:43,714 - DEBUG - Found 0 users matching query
2025-07-09 18:56:43,718 - DEBUG - Search users query: 'sekynda' from user 2
2025-07-09 18:56:43,719 - DEBUG - Existing contacts for user 2: [1]
2025-07-09 18:56:43,720 - DEBUG - Found 0 users matching query
2025-07-09 18:56:47,676 - DEBUG - Search users query: 'sekynda#' from user 2
2025-07-09 18:56:47,678 - DEBUG - Existing contacts for user 2: [1]
2025-07-09 18:56:47,679 - DEBUG - Found 0 users matching query
2025-07-09 18:56:47,684 - DEBUG - Search users query: 'sekynda#' from user 2
2025-07-09 18:56:47,685 - DEBUG - Existing contacts for user 2: [1]
2025-07-09 18:56:47,685 - DEBUG - Found 0 users matching query
2025-07-09 18:56:58,692 - DEBUG - Search users query: 'sekynda#2055' from user 2
2025-07-09 18:56:58,693 - DEBUG - Existing contacts for user 2: [1]
2025-07-09 18:56:58,694 - DEBUG - Found 0 users matching query
2025-07-09 18:56:58,698 - DEBUG - Search users query: 'sekynda#2055' from user 2
2025-07-09 18:56:58,699 - DEBUG - Existing contacts for user 2: [1]
2025-07-09 18:56:58,700 - DEBUG - Found 0 users matching query
2025-07-09 18:57:01,438 - DEBUG - Search users query: '#2055' from user 2
2025-07-09 18:57:01,439 - DEBUG - Existing contacts for user 2: [1]
2025-07-09 18:57:01,441 - DEBUG - Found 0 users matching query
2025-07-09 18:57:01,446 - DEBUG - Search users query: '#2055' from user 2
2025-07-09 18:57:01,447 - DEBUG - Existing contacts for user 2: [1]
2025-07-09 18:57:01,448 - DEBUG - Found 0 users matching query
2025-07-09 19:00:48,888 - INFO -  * Detected change in 'C:\\Users\\yevgen.kozhuhov\\PycharmProjects\\PythonProject\\messenger\\backend\\app.py', reloading
2025-07-09 19:00:49,069 - INFO -  * Restarting with stat
2025-07-09 19:00:50,138 - WARNING -  * Debugger is active!
2025-07-09 19:00:50,139 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 19:00:57,413 - INFO -  * Detected change in 'C:\\Users\\yevgen.kozhuhov\\PycharmProjects\\PythonProject\\messenger\\backend\\app.py', reloading
2025-07-09 19:00:57,546 - INFO -  * Restarting with stat
2025-07-09 19:00:58,641 - WARNING -  * Debugger is active!
2025-07-09 19:00:58,644 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 19:01:22,394 - INFO -  * Detected change in 'C:\\Users\\yevgen.kozhuhov\\PycharmProjects\\PythonProject\\messenger\\backend\\chat_logic.py', reloading
2025-07-09 19:01:22,592 - INFO -  * Restarting with stat
2025-07-09 19:01:23,939 - WARNING -  * Debugger is active!
2025-07-09 19:01:23,941 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 19:01:35,547 - INFO -  * Detected change in 'C:\\Users\\yevgen.kozhuhov\\PycharmProjects\\PythonProject\\messenger\\backend\\app.py', reloading
2025-07-09 19:01:35,813 - INFO -  * Restarting with stat
2025-07-09 19:01:59,625 - INFO -  * Restarting with stat
2025-07-09 19:02:03,534 - INFO -  * Restarting with stat
2025-07-09 19:02:04,716 - WARNING -  * Debugger is active!
2025-07-09 19:02:04,719 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 19:02:51,450 - DEBUG - Search users query: '#4317' from user 1
2025-07-09 19:02:51,451 - DEBUG - Existing contacts for user 1: []
2025-07-09 19:02:51,454 - DEBUG - Found 1 users matching query
2025-07-09 19:02:51,458 - DEBUG - Search users query: '#4317' from user 1
2025-07-09 19:02:51,459 - DEBUG - Existing contacts for user 1: []
2025-07-09 19:02:51,460 - DEBUG - Found 1 users matching query
2025-07-09 20:42:26,955 - INFO -  * Detected change in 'C:\\Users\\yevgen.kozhuhov\\PycharmProjects\\PythonProject\\messenger\\backend\\app.py', reloading
2025-07-09 20:42:27,535 - INFO -  * Restarting with stat
2025-07-09 20:42:30,472 - WARNING -  * Debugger is active!
2025-07-09 20:42:30,475 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 20:43:17,263 - INFO -  * Restarting with stat
2025-07-09 20:43:18,403 - WARNING -  * Debugger is active!
2025-07-09 20:43:18,408 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 21:01:30,282 - INFO -  * Detected change in 'C:\\Users\\yevgen.kozhuhov\\PycharmProjects\\PythonProject\\messenger\\backend\\app.py', reloading
2025-07-09 21:01:30,830 - INFO -  * Restarting with stat
2025-07-09 21:01:32,162 - WARNING -  * Debugger is active!
2025-07-09 21:01:32,164 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 21:01:42,668 - INFO -  * Detected change in 'C:\\Users\\yevgen.kozhuhov\\PycharmProjects\\PythonProject\\messenger\\backend\\app.py', reloading
2025-07-09 21:01:42,829 - INFO -  * Restarting with stat
2025-07-09 21:01:43,908 - WARNING -  * Debugger is active!
2025-07-09 21:01:43,911 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 21:02:57,941 - INFO -  * Restarting with stat
2025-07-09 21:02:59,114 - WARNING -  * Debugger is active!
2025-07-09 21:02:59,116 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 21:06:53,920 - INFO -  * Detected change in 'C:\\Users\\yevgen.kozhuhov\\PycharmProjects\\PythonProject\\messenger\\backend\\app.py', reloading
2025-07-09 21:06:54,103 - INFO -  * Restarting with stat
2025-07-09 21:06:55,262 - WARNING -  * Debugger is active!
2025-07-09 21:06:55,264 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 21:09:04,478 - INFO -  * Detected change in 'C:\\Users\\yevgen.kozhuhov\\PycharmProjects\\PythonProject\\messenger\\backend\\app.py', reloading
2025-07-09 21:09:04,629 - INFO -  * Restarting with stat
2025-07-09 21:09:05,856 - WARNING -  * Debugger is active!
2025-07-09 21:09:05,858 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 21:25:30,178 - INFO -  * Restarting with stat
2025-07-09 21:25:33,793 - WARNING -  * Debugger is active!
2025-07-09 21:25:33,797 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 21:57:45,142 - INFO -  * Detected change in 'C:\\Users\\yevgen.kozhuhov\\PycharmProjects\\PythonProject\\messenger\\backend\\app.py', reloading
2025-07-09 21:57:45,399 - INFO -  * Restarting with stat
2025-07-09 21:57:47,703 - WARNING -  * Debugger is active!
2025-07-09 21:57:47,710 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 21:59:58,684 - INFO -  * Restarting with stat
2025-07-09 22:00:00,188 - WARNING -  * Debugger is active!
2025-07-09 22:00:00,190 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 22:03:22,345 - INFO -  * Restarting with stat
2025-07-09 22:03:23,564 - WARNING -  * Debugger is active!
2025-07-09 22:03:23,568 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 22:14:46,258 - INFO -  * Restarting with stat
2025-07-09 22:14:47,565 - WARNING -  * Debugger is active!
2025-07-09 22:14:47,567 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 22:24:44,310 - INFO -  * Restarting with stat
2025-07-09 22:24:45,574 - WARNING -  * Debugger is active!
2025-07-09 22:24:45,576 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 22:38:55,444 - INFO -  * Restarting with stat
2025-07-09 22:38:56,728 - WARNING -  * Debugger is active!
2025-07-09 22:38:56,730 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 22:48:13,749 - INFO -  * Restarting with stat
2025-07-09 22:48:14,954 - WARNING -  * Debugger is active!
2025-07-09 22:48:14,955 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 22:51:01,672 - INFO -  * Detected change in 'C:\\Users\\yevgen.kozhuhov\\PycharmProjects\\PythonProject\\messenger\\backend\\app.py', reloading
2025-07-09 22:51:01,998 - INFO -  * Restarting with stat
2025-07-09 22:51:03,294 - WARNING -  * Debugger is active!
2025-07-09 22:51:03,298 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 22:52:26,813 - INFO -  * Detected change in 'C:\\Users\\yevgen.kozhuhov\\PycharmProjects\\PythonProject\\messenger\\backend\\app.py', reloading
2025-07-09 22:52:26,976 - INFO -  * Restarting with stat
2025-07-09 22:52:28,150 - WARNING -  * Debugger is active!
2025-07-09 22:52:28,152 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 22:53:26,430 - INFO -  * Restarting with stat
2025-07-09 22:53:27,623 - WARNING -  * Debugger is active!
2025-07-09 22:53:27,625 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 22:57:13,236 - INFO -  * Detected change in 'C:\\Users\\yevgen.kozhuhov\\PycharmProjects\\PythonProject\\messenger\\backend\\app.py', reloading
2025-07-09 22:57:13,925 - INFO -  * Restarting with stat
2025-07-09 22:57:15,247 - WARNING -  * Debugger is active!
2025-07-09 22:57:15,252 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 22:57:37,033 - INFO -  * Detected change in 'C:\\Users\\yevgen.kozhuhov\\PycharmProjects\\PythonProject\\messenger\\backend\\app.py', reloading
2025-07-09 22:57:37,719 - INFO -  * Restarting with stat
2025-07-09 22:57:39,106 - WARNING -  * Debugger is active!
2025-07-09 22:57:39,108 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 22:58:18,476 - INFO -  * Restarting with stat
2025-07-09 22:58:19,682 - WARNING -  * Debugger is active!
2025-07-09 22:58:19,684 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 22:59:30,227 - INFO -  * Restarting with stat
2025-07-09 22:59:31,478 - WARNING -  * Debugger is active!
2025-07-09 22:59:31,481 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 23:03:28,113 - INFO -  * Detected change in 'C:\\Users\\yevgen.kozhuhov\\PycharmProjects\\PythonProject\\messenger\\backend\\app.py', reloading
2025-07-09 23:03:28,272 - INFO -  * Restarting with stat
2025-07-09 23:03:29,367 - WARNING -  * Debugger is active!
2025-07-09 23:03:29,369 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 23:03:50,805 - INFO -  * Restarting with stat
2025-07-09 23:03:51,922 - WARNING -  * Debugger is active!
2025-07-09 23:03:51,924 - INFO -  * Debugger PIN: 453-768-860
2025-07-09 23:07:05,903 - INFO -  * Detected change in 'C:\\Users\\yevgen.kozhuhov\\PycharmProjects\\PythonProject\\messenger\\backend\\app.py', reloading
2025-07-09 23:07:06,093 - INFO -  * Restarting with stat
2025-07-10 00:27:05,372 - INFO -  * Restarting with stat
2025-07-10 00:27:06,524 - WARNING -  * Debugger is active!
2025-07-10 00:27:06,534 - INFO -  * Debugger PIN: 453-768-860
2025-07-10 00:30:43,910 - INFO -  * Restarting with stat
2025-07-10 00:30:45,926 - WARNING -  * Debugger is active!
2025-07-10 00:30:45,930 - INFO -  * Debugger PIN: 453-768-860
2025-07-10 00:32:35,460 - INFO -  * Restarting with stat
2025-07-10 00:32:36,955 - WARNING -  * Debugger is active!
2025-07-10 00:32:36,957 - INFO -  * Debugger PIN: 453-768-860
2025-07-10 00:35:02,904 - INFO -  * Detected change in 'C:\\Users\\yevgen.kozhuhov\\PycharmProjects\\PythonProject\\messenger\\backend\\app.py', reloading
2025-07-10 00:35:03,228 - INFO -  * Restarting with stat
2025-07-10 00:35:06,331 - WARNING -  * Debugger is active!
2025-07-10 00:35:06,378 - INFO -  * Debugger PIN: 453-768-860
2025-07-10 00:35:06,690 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:06,748 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:07,117 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:07,132 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:08,129 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:08,159 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:08,175 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:08,189 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:08,211 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:08,220 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:08,239 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:08,251 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:09,123 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:09,145 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:09,185 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:09,204 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:09,218 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:09,233 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:09,246 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:09,261 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:48,170 - INFO -  * Restarting with stat
2025-07-10 00:35:50,274 - WARNING -  * Debugger is active!
2025-07-10 00:35:50,277 - INFO -  * Debugger PIN: 453-768-860
2025-07-10 00:35:50,632 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:50,656 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:51,182 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:51,208 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:51,344 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:52,116 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:52,131 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:52,147 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:52,301 - ERROR - disconnect handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 671, in _handle_eio_disconnect
    self._handle_disconnect(eio_sid, n, reason)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 568, in _handle_disconnect
    self._trigger_event('disconnect', namespace, sid,
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 835, in _handle_event
    ret = handler(*args)
          ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:53,119 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:53,132 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:53,144 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:53,154 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:53,697 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:54,114 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:54,127 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:54,148 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:55,114 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:35:56,113 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:36:39,818 - INFO -  * Restarting with stat
2025-07-10 00:36:41,814 - WARNING -  * Debugger is active!
2025-07-10 00:36:41,816 - INFO -  * Debugger PIN: 453-768-860
2025-07-10 00:36:42,137 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:36:42,166 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:36:42,176 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:36:42,185 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:36:42,202 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:36:42,215 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:36:42,227 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:36:42,243 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:36:42,263 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:36:42,275 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:36:43,171 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:36:43,212 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:36:44,231 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:36:46,119 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:36:46,133 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:36:46,144 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:36:46,605 - ERROR - disconnect handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 671, in _handle_eio_disconnect
    self._handle_disconnect(eio_sid, n, reason)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 568, in _handle_disconnect
    self._trigger_event('disconnect', namespace, sid,
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 835, in _handle_event
    ret = handler(*args)
          ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:36:46,660 - ERROR - disconnect handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 671, in _handle_eio_disconnect
    self._handle_disconnect(eio_sid, n, reason)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 568, in _handle_disconnect
    self._trigger_event('disconnect', namespace, sid,
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 835, in _handle_event
    ret = handler(*args)
          ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:36:47,113 - ERROR - message handler error
Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: user.last_seen

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\engineio\server.py", line 450, in run_handler
    return self.handlers[event](*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 652, in _handle_eio_message
    self._handle_connect(eio_sid, pkt.namespace, pkt.data)
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 538, in _handle_connect
    success = self._trigger_event(
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\socketio\server.py", line 617, in _trigger_event
    return handler(*args)
           ^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 292, in _handler
    return self._handle_event(handler, message, real_ns, sid,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_socketio\__init__.py", line 831, in _handle_event
    ret = handler(auth)
          ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\werkzeug\local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\flask_login\login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\messenger\backend\app.py", line 38, in load_user
    return db.session.get(User, int(user_id))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1058, in get
    return self._proxied.get(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\yevgen.kozhuhov\PycharmProjects\PythonProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: user.last_seen
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.tag AS user_tag, user.password_hash AS user_password_hash, user.last_seen AS user_last_seen 
FROM user 
WHERE user.id = ?]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-10 00:37:02,643 - INFO -  * Restarting with stat
2025-07-10 00:37:04,322 - WARNING -  * Debugger is active!
2025-07-10 00:37:04,326 - INFO -  * Debugger PIN: 453-768-860
2025-07-10 15:50:12,833 - INFO -  * Restarting with stat
2025-07-10 15:50:14,549 - WARNING -  * Debugger is active!
2025-07-10 15:50:14,552 - INFO -  * Debugger PIN: 453-768-860
2025-07-10 16:13:25,037 - INFO -  * Restarting with stat
2025-07-10 16:13:26,164 - WARNING -  * Debugger is active!
2025-07-10 16:13:26,174 - INFO -  * Debugger PIN: 453-768-860
2025-07-10 16:15:15,453 - INFO -  * Restarting with stat
2025-07-10 16:15:17,658 - WARNING -  * Debugger is active!
2025-07-10 16:15:17,662 - INFO -  * Debugger PIN: 453-768-860
2025-07-10 16:29:54,991 - INFO -  * Restarting with stat
2025-07-10 16:29:56,300 - WARNING -  * Debugger is active!
2025-07-10 16:29:56,302 - INFO -  * Debugger PIN: 453-768-860
2025-07-10 16:30:53,821 - INFO -  * Detected change in 'C:\\Users\\yevgen.kozhuhov\\PycharmProjects\\PythonProject\\messenger\\backend\\app.py', reloading
2025-07-10 16:30:54,047 - INFO -  * Restarting with stat
2025-07-10 16:30:56,372 - WARNING -  * Debugger is active!
2025-07-10 16:30:56,376 - INFO -  * Debugger PIN: 453-768-860
2025-07-10 16:31:25,015 - INFO -  * Restarting with stat
2025-07-10 16:31:26,294 - WARNING -  * Debugger is active!
2025-07-10 16:31:26,296 - INFO -  * Debugger PIN: 453-768-860
2025-07-10 17:02:37,975 - INFO -  * Detected change in 'C:\\Users\\yevgen.kozhuhov\\PycharmProjects\\PythonProject\\messenger\\backend\\database.py', reloading
2025-07-10 17:02:39,706 - INFO -  * Restarting with stat
2025-07-10 17:02:43,021 - WARNING -  * Debugger is active!
2025-07-10 17:02:43,025 - INFO -  * Debugger PIN: 453-768-860
2025-07-10 17:03:14,221 - INFO -  * Restarting with stat
2025-07-10 17:03:15,500 - WARNING -  * Debugger is active!
2025-07-10 17:03:15,503 - INFO -  * Debugger PIN: 453-768-860
2025-07-10 17:03:29,357 - DEBUG - Search users query: 'se' from user 1
2025-07-10 17:03:29,359 - DEBUG - Existing contacts for user 1: [2]
2025-07-10 17:03:29,362 - DEBUG - Found 0 users matching query
2025-07-10 17:03:29,368 - DEBUG - Search users query: 'se' from user 1
2025-07-10 17:03:29,370 - DEBUG - Existing contacts for user 1: [2]
2025-07-10 17:03:29,372 - DEBUG - Found 0 users matching query
2025-07-10 17:03:31,196 - DEBUG - Search users query: 'sekynda' from user 1
2025-07-10 17:03:31,197 - DEBUG - Existing contacts for user 1: [2]
2025-07-10 17:03:31,199 - DEBUG - Found 0 users matching query
2025-07-10 17:03:31,205 - DEBUG - Search users query: 'sekynda' from user 1
2025-07-10 17:03:31,206 - DEBUG - Existing contacts for user 1: [2]
2025-07-10 17:03:31,208 - DEBUG - Found 0 users matching query
2025-07-10 17:03:31,710 - DEBUG - Search users query: 'sekynda2' from user 1
2025-07-10 17:03:31,711 - DEBUG - Existing contacts for user 1: [2]
2025-07-10 17:03:31,714 - DEBUG - Found 0 users matching query
2025-07-10 17:03:31,719 - DEBUG - Search users query: 'sekynda2' from user 1
2025-07-10 17:03:31,721 - DEBUG - Existing contacts for user 1: [2]
2025-07-10 17:03:31,723 - DEBUG - Found 0 users matching query
2025-07-10 17:03:53,010 - INFO -  * Restarting with stat
2025-07-10 17:03:55,157 - WARNING -  * Debugger is active!
2025-07-10 17:03:55,161 - INFO -  * Debugger PIN: 453-768-860
2025-07-10 17:04:22,347 - DEBUG - Search users query: 'se' from user 2
2025-07-10 17:04:22,349 - DEBUG - Existing contacts for user 2: []
2025-07-10 17:04:22,356 - DEBUG - Found 1 users matching query
2025-07-10 17:04:22,363 - DEBUG - Search users query: 'se' from user 2
2025-07-10 17:04:22,366 - DEBUG - Existing contacts for user 2: []
2025-07-10 17:04:22,372 - DEBUG - Found 1 users matching query
2025-07-10 17:07:26,215 - INFO -  * Detected change in 'C:\\Users\\yevgen.kozhuhov\\PycharmProjects\\PythonProject\\messenger\\backend\\app.py', reloading
2025-07-10 17:07:26,478 - INFO -  * Restarting with stat
2025-07-10 17:07:29,640 - WARNING -  * Debugger is active!
2025-07-10 17:07:29,644 - INFO -  * Debugger PIN: 453-768-860
2025-07-10 17:07:47,798 - INFO -  * Detected change in 'C:\\Users\\yevgen.kozhuhov\\PycharmProjects\\PythonProject\\messenger\\backend\\database.py', reloading
2025-07-10 17:07:48,074 - INFO -  * Restarting with stat
2025-07-10 17:07:50,234 - WARNING -  * Debugger is active!
2025-07-10 17:07:50,238 - INFO -  * Debugger PIN: 453-768-860
2025-07-10 18:29:34,299 - INFO -  * Restarting with stat
2025-07-10 18:29:36,745 - WARNING -  * Debugger is active!
2025-07-10 18:29:36,752 - INFO -  * Debugger PIN: 453-768-860
